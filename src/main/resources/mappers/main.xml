<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gma.gmagame.mapper.UserMapper">
    <select id="selectList" parameterType="com.gma.gmagame.model.User" resultType="com.gma.gmagame.model.User">
        SELECT *
        FROM USER_BAS
    </select>

    <insert id="saveUser" parameterType="com.gma.gmagame.model.User">
        <selectKey resultType="Integer" keyProperty="user_no" order="BEFORE">
            SELECT NVL(MAX(USER_NO),0)+1
            FROM USER_BAS
        </selectKey>
        INSERT INTO USER_BAS (USER_NO,USER_ID,USER_PWD,USER_NAME,ADMIN_YN,PHONE_NUMBER,ADDRESS,STATUS,CREATE_DATE)
        VALUES(#{user_no},#{user_id},#{user_pwd},#{user_name},'N',#{phone_number},#{address},'Y',SYSDATE)
    </insert>

    <select id="getUserAccount" resultType="com.gma.gmagame.model.User" parameterType="com.gma.gmagame.model.User">
        SELECT *
        FROM USER_BAS
        WHERE USER_ID = #{user_id}
    </select>

    <select id="getMypage" resultType="com.gma.gmagame.model.User" parameterType="com.gma.gmagame.model.User">
        SELECT *
        FROM USER_BAS
        WHERE USER_ID = #{user_id}
    </select>

    <update id="updateUser" parameterType="com.gma.gmagame.model.User">
        UPDATE USER_BAS
           SET USER_ID = #{user_id}
             , USER_PWD = #{user_pwd}
             , USER_NAME = #{user_name}
             , PHONE_NUMBER = #{phone_number}
             , ADDRESS = #{address}
         WHERE USER_ID = #{user_id}
    </update>

</mapper>


